<!-- Chosen Palette: "Deep Science" - Professional Dark Mode.
     Background: Slate-950 (#020617).
     Accents: Sky-500 (Physics), Violet-500 (Math), Emerald-500 (Result), Amber-500 (Raw Data).
-->

<!-- Application Structure Plan:
     1. Import Libraries: Tailwind, MathJax.
     2. Layout:
        - Header: Clear title explaining the "7 Schools".
        - Filmstrip Nav: Horizontal scrollable list of 7 architectures.
        - Main Stage: Large area for dynamic content injection.
     3. Content Templates (The "7 Schools"):
        - 01 CASSI (Coded Aperture)
        - 02 CTIS (Computed Tomography)
        - 03 IFS (Integral Field)
        - 04 MSFA (Mosaic)
        - 05 Light Field (Plenoptic)
        - 06 Multi-Aperture (Array)
        - 07 Comparison (Matrix & Guide)
-->

<!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. All visuals are pure CSS & HTML. -->

<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¿«ç…§å¼å…‰è°±æˆåƒï¼šä¸ƒå¤§æµæ´¾ç»ˆæè¯¦è§£</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- MathJax for Rendering Formulas -->
    <script>
        MathJax = {
            tex: { inlineMath: [['$', '$'], ['\\(', '\\)']] }
        };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&family=JetBrains+Mono:wght@400&display=swap');
        body { font-family: 'Noto Sans SC', sans-serif; background-color: #020617; color: #e2e8f0; }
        .font-mono { font-family: 'JetBrains Mono', monospace; }

        /* --- Scrollbar --- */
        .filmstrip::-webkit-scrollbar { height: 8px; }
        .filmstrip::-webkit-scrollbar-track { background: #0f172a; border-radius: 4px; }
        .filmstrip::-webkit-scrollbar-thumb { background: #334155; border-radius: 4px; }
        .filmstrip::-webkit-scrollbar-thumb:hover { background: #475569; }

        /* --- Visual Schematics (CSS Art) --- */
        .optic-stage {
            width: 100%; height: 240px; 
            background: radial-gradient(circle at center, #1e293b 0%, #020617 100%);
            border: 1px solid #334155; border-radius: 16px;
            position: relative; overflow: hidden;
            display: flex; align-items: center; justify-content: center;
        }

        /* CASSI Elements */
        .cassi-mask { width: 80px; height: 80px; background-image: radial-gradient(#000 30%, transparent 30%); background-size: 10px 10px; background-color: rgba(255,255,255,0.1); border: 2px solid rgba(255,255,255,0.3); box-shadow: 0 0 15px rgba(255,255,255,0.1); }
        .cassi-prism { width: 0; height: 0; border-left: 30px solid transparent; border-right: 30px solid transparent; border-bottom: 80px solid rgba(56, 189, 248, 0.2); filter: blur(1px); }
        .cassi-dispersion { position: absolute; width: 60px; height: 60px; border-radius: 4px; mix-blend-mode: screen; opacity: 0.6; }

        /* CTIS Elements */
        .ctis-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; }
        .ctis-spot { width: 40px; height: 40px; border-radius: 50%; background: radial-gradient(circle, rgba(167, 139, 250, 0.8) 0%, transparent 70%); animation: pulse 3s infinite; }
        .ctis-center { background: radial-gradient(circle, #fff 0%, rgba(167, 139, 250, 0.8) 50%, transparent 80%); animation: none; opacity: 1; }

        /* IFS Elements */
        .ifs-slicer-group { display: flex; flex-direction: column; gap: 4px; transform: skewX(-20deg); }
        .ifs-bar { width: 140px; height: 16px; background: linear-gradient(90deg, #334155 0%, #94a3b8 50%, #334155 100%); border: 1px solid #0f172a; box-shadow: 2px 2px 5px rgba(0,0,0,0.5); }

        /* IMS Elements (Added) */
        .ims-container { position: relative; width: 140px; height: 100px; display: flex; align-items: center; justify-content: center; perspective: 600px; }
        .ims-array { display: grid; grid-template-columns: repeat(4, 1fr); gap: 4px; transform: rotateX(30deg) rotateZ(-10deg); transform-style: preserve-3d; }
        .ims-facet { width: 24px; height: 24px; background: linear-gradient(135deg, #e2e8f0 0%, #94a3b8 100%); border: 1px solid rgba(255,255,255,0.5); box-shadow: 2px 2px 10px rgba(0,0,0,0.5); transition: all 0.3s ease; position: relative; }
        /* Simulate tilt angles */
        .ims-facet:nth-child(odd) { transform: rotateY(15deg); background: linear-gradient(135deg, #cbd5e1, #64748b); }
        .ims-facet:nth-child(even) { transform: rotateX(-15deg); background: linear-gradient(135deg, #f1f5f9, #94a3b8); }
        .ims-facet:hover { background: #ec4899; box-shadow: 0 0 15px #ec4899; transform: translateZ(20px) scale(1.1); z-index: 10; border-color: #fff; }
        .ims-beam { position: absolute; top: -40px; left: 50%; width: 2px; height: 40px; background: linear-gradient(to bottom, transparent, #ec4899); opacity: 0.8; }

        
        /* MSFA Elements */
        .msfa-matrix { display: grid; grid-template-columns: repeat(4, 1fr); gap: 1px; width: 120px; height: 120px; background: #000; padding: 2px; border: 1px solid #475569; }
        .msfa-dot { width: 100%; height: 100%; }

        /* LightField Elements */
        .mla-array { display: grid; grid-template-columns: repeat(6, 1fr); gap: 2px; }
        .mla-lens { width: 20px; height: 20px; border-radius: 50%; border: 1px solid rgba(255,255,255,0.2); background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.9), transparent 60%); }

        /* MultiCam Elements */
        .cam-array { display: flex; gap: 10px; }
        .cam-unit { width: 60px; height: 60px; border-radius: 50%; background: radial-gradient(circle, #334155 30%, #0f172a 70%); border: 4px solid #475569; position: relative; box-shadow: inset 0 0 10px #000; }
        .cam-pupil { position: absolute; inset: 0; margin: auto; width: 16px; height: 16px; border-radius: 50%; filter: blur(1px); }

        /* Animations */
        @keyframes pulse { 0% { opacity: 0.4; transform: scale(0.9); } 50% { opacity: 0.8; transform: scale(1.1); } 100% { opacity: 0.4; transform: scale(0.9); } }
        .fade-in { animation: fadeIn 0.5s cubic-bezier(0.2, 0.8, 0.2, 1) forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        /* --- Pipeline Flow --- */
        .pipeline-container { position: relative; display: flex; justify-content: space-between; margin-top: 2rem; padding: 0 1rem; }
        .pipeline-track { position: absolute; top: 24px; left: 0; width: 100%; height: 2px; background: #334155; z-index: 0; }
        .pipeline-step { position: relative; z-index: 10; display: flex; flex-direction: column; align-items: center; width: 18%; }
        .step-bubble { width: 48px; height: 48px; border-radius: 50%; background: #0f172a; border: 2px solid #475569; display: flex; align-items: center; justify-content: center; font-size: 20px; transition: all 0.3s; }
        .pipeline-step:hover .step-bubble { transform: scale(1.15); box-shadow: 0 0 20px rgba(56, 189, 248, 0.3); border-color: #38bdf8; color: #fff; }
        
        /* Color Coding */
        .type-phys .step-bubble { border-color: #0ea5e9; color: #0ea5e9; background: rgba(14, 165, 233, 0.1); } /* Physics */
        .type-raw .step-bubble { border-color: #f59e0b; color: #f59e0b; background: rgba(245, 158, 11, 0.1); } /* Raw Data */
        .type-math .step-bubble { border-color: #8b5cf6; color: #8b5cf6; background: rgba(139, 92, 246, 0.1); } /* Math */
        .type-done .step-bubble { border-color: #10b981; color: #10b981; background: rgba(16, 185, 129, 0.1); } /* Result */

        /* Navigation State */
        .nav-card { transition: all 0.3s; opacity: 0.6; transform: scale(0.95); border: 1px solid transparent; }
        .nav-card:hover { opacity: 1; background: #1e293b; }
        .nav-card.active { opacity: 1; transform: scale(1); background: #1e293b; border-color: #38bdf8; box-shadow: 0 0 0 1px #38bdf8; }
        
        /* Heatmap Bar */
        .heat-track { width: 100%; height: 6px; background: #334155; border-radius: 3px; overflow: hidden; margin-top: 4px; }
        .heat-fill { height: 100%; border-radius: 3px; }
    </style>
</head>
<body class="min-h-screen flex flex-col">

    <!-- 1. Header Area -->
    <header class="bg-slate-950/90 backdrop-blur border-b border-slate-800 sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-6 py-4">
            <div class="flex items-center gap-3">
                <div class="w-2 h-8 bg-gradient-to-b from-sky-400 to-violet-500 rounded-sm"></div>
                <div>
                    <h1 class="text-2xl md:text-3xl font-bold text-white tracking-tight">
                        å¿«ç…§å¼å…‰è°±æˆåƒ <span class="text-slate-500 font-light mx-2">|</span> <span class="text-sky-400">ä¸ƒå¤§æµæ´¾å…¨è§£</span>
                    </h1>
                    <p class="text-xs text-slate-400 font-mono mt-1">Snapshot Spectral Imaging (SSI) Architectures</p>
                </div>
            </div>
        </div>
    </header>

    <!-- 2. Filmstrip Navigation (The "7 Schools") -->
    <nav class="bg-slate-900 border-b border-slate-800 py-4">
        <div class="max-w-7xl mx-auto px-4">
            <div class="filmstrip flex overflow-x-auto gap-4 pb-2 snap-x px-2">
                
                <!-- 01 CASSI -->
                <button onclick="loadTech('cassi')" id="nav-cassi" class="nav-card active snap-center flex-shrink-0 w-40 p-3 rounded-xl bg-slate-950 text-left">
                    <span class="text-xs font-bold text-sky-500 block mb-1">01. CASSI</span>
                    <h3 class="text-sm font-bold text-slate-200">ç¼–ç å­”å¾„</h3>
                    <div class="mt-2 text-[10px] text-slate-500">Coded Aperture</div>
                </button>

                <!-- 02 CTIS -->
                <button onclick="loadTech('ctis')" id="nav-ctis" class="nav-card snap-center flex-shrink-0 w-40 p-3 rounded-xl bg-slate-950 text-left">
                    <span class="text-xs font-bold text-violet-500 block mb-1">02. CTIS</span>
                    <h3 class="text-sm font-bold text-slate-200">è®¡ç®—å±‚æ</h3>
                    <div class="mt-2 text-[10px] text-slate-500">Tomography</div>
                </button>

                <!-- 03 IFS -->
                <button onclick="loadTech('ifs')" id="nav-ifs" class="nav-card snap-center flex-shrink-0 w-40 p-3 rounded-xl bg-slate-950 text-left">
                    <span class="text-xs font-bold text-pink-500 block mb-1">03. IFS</span>
                    <h3 class="text-sm font-bold text-slate-200">å›¾åƒåˆ‡ç‰‡</h3>
                    <div class="mt-2 text-[10px] text-slate-500">Integral Field</div>
                </button>               
                <!-- 04 IMS -->
                <button onclick="loadTech('ims')" id="nav-ims" class="nav-card snap-center flex-shrink-0 w-40 p-3 rounded-xl bg-slate-950 text-left">
                    <span class="text-xs font-bold text-pink-500 block mb-1">04. IMS</span>
                    <h3 class="text-sm font-bold text-slate-200">å›¾åƒåˆ‡ç‰‡</h3>
                    <div class="mt-2 text-[10px] text-slate-500">Integral Field</div>
                </button>
                <!-- 04 MSFA -->
                <button onclick="loadTech('msfa')" id="nav-msfa" class="nav-card snap-center flex-shrink-0 w-40 p-3 rounded-xl bg-slate-950 text-left">
                    <span class="text-xs font-bold text-amber-500 block mb-1">05. MSFA</span>
                    <h3 class="text-sm font-bold text-slate-200">æ»¤å…‰ç‰‡é˜µåˆ—</h3>
                    <div class="mt-2 text-[10px] text-slate-500">Mosaic</div>
                </button>

                <!-- 05 Light Field -->
                <button onclick="loadTech('lightfield')" id="nav-lightfield" class="nav-card snap-center flex-shrink-0 w-40 p-3 rounded-xl bg-slate-950 text-left">
                    <span class="text-xs font-bold text-emerald-500 block mb-1">06. LightField</span>
                    <h3 class="text-sm font-bold text-slate-200">å…‰åœºå…‰è°±</h3>
                    <div class="mt-2 text-[10px] text-slate-500">Plenoptic</div>
                </button>

                <!-- 06 Multi-Cam -->
                <button onclick="loadTech('multicam')" id="nav-multicam" class="nav-card snap-center flex-shrink-0 w-40 p-3 rounded-xl bg-slate-950 text-left">
                    <span class="text-xs font-bold text-indigo-500 block mb-1">07. Array</span>
                    <h3 class="text-sm font-bold text-slate-200">å¤šå­”å¾„/ç›¸æœº</h3>
                    <div class="mt-2 text-[10px] text-slate-500">Multi-Aperture</div>
                </button>

                <!-- 07 Comparison -->
                <button onclick="loadTech('compare')" id="nav-compare" class="nav-card snap-center flex-shrink-0 w-40 p-3 rounded-xl bg-slate-950 text-left border-l-4 border-l-slate-600">
                    <span class="text-xs font-bold text-white block mb-1">08. Summary</span>
                    <h3 class="text-sm font-bold text-slate-200">å…¨æ™¯å¯¹æ¯”</h3>
                    <div class="mt-2 text-[10px] text-slate-500">Trade-off Matrix</div>
                </button>

            </div>
        </div>
    </nav>

    <!-- 3. Main Stage (Dynamic Content) -->
    <main class="flex-grow max-w-7xl mx-auto w-full px-4 py-8">
        
        <!-- The Content Container -->
        <div id="main-stage" class="min-h-[600px]">
            <!-- Content will be injected here via JS -->
        </div>

    </main>

    <!-- ================= TEMPLATES (The "Textbook" Content) ================= -->

    <!-- TEMPLATE 01: CASSI -->
    <template id="tpl-cassi">
        <div class="fade-in">
            <div class="grid lg:grid-cols-12 gap-8">
                <!-- Left: Visual & Core Concept -->
                <div class="lg:col-span-5 space-y-6">
                    <h2 class="text-3xl font-bold text-sky-400">01. ç¼–ç å­”å¾„ (CASSI)</h2>
                    <p class="text-sm text-slate-400 italic">Coded Aperture Snapshot Spectral Imaging</p>
                    
                    <!-- CSS Optical Schematic -->
                    <div class="optic-stage">
                        <div class="absolute left-[10%] cassi-mask z-20" title="Mask"></div>
                        <div class="absolute left-[35%] cassi-prism z-10" title="Prism"></div>
                        <div class="cassi-dispersion bg-red-500 left-[70%] top-[30%]"></div>
                        <div class="cassi-dispersion bg-green-500 left-[70%] top-[40%]"></div>
                        <div class="cassi-dispersion bg-blue-500 left-[70%] top-[50%]"></div>
                        <div class="absolute bottom-2 text-[10px] text-slate-500 font-mono">Mask -> Prism -> Shear</div>
                    </div>

                    <div class="bg-sky-900/10 border-l-4 border-sky-500 p-4 rounded-r">
                        <h3 class="text-sky-400 font-bold text-sm uppercase mb-1">ç§’æ‡‚ç±»æ¯”</h3>
                        <p class="text-slate-300 text-sm leading-relaxed">
                            å°±åƒæŠŠä¸€å‰¯æ‹¼å›¾ï¼ˆåœºæ™¯ï¼‰æ‰“ä¹±å¹¶å‹ç¼©æˆä¸€ä¸ª <strong>Zip å‹ç¼©åŒ…</strong>ã€‚è™½ç„¶çœ‹èµ·æ¥æ˜¯ä¸€å›¢ä¹±ç ï¼ˆæ··å å›¾åƒï¼‰ï¼Œä½†åªè¦æœ‰â€œè§£å‹å¯†ç â€ï¼ˆé‡æ„ç®—æ³•ï¼‰ï¼Œå°±èƒ½å®Œç¾å¤åŸã€‚
                        </p>
                    </div>
                </div>

                <!-- Right: Detailed Text & Math -->
                <div class="lg:col-span-7 space-y-8">
                    <!-- Text Description -->
                    <div class="space-y-4">
                        <h3 class="text-xl font-bold text-white">æŠ€æœ¯æ·±åº¦è§£æ</h3>
                        <p class="text-slate-300 leading-7 text-sm">
                            CASSI æ˜¯å‹ç¼©æ„ŸçŸ¥ç†è®ºåœ¨å…‰å­¦é¢†åŸŸçš„ç»å…¸åº”ç”¨ã€‚å®ƒåˆ©ç”¨ç‰©ç†æ©æ¨¡ï¼ˆMaskï¼‰å¯¹åœºæ™¯çš„ç©ºé—´ä¿¡æ¯è¿›è¡Œç¼–ç ï¼Œéšåé€šè¿‡è‰²æ•£å…ƒä»¶ï¼ˆå¦‚æ£±é•œï¼‰å°†ä¸åŒæ³¢é•¿çš„å…‰åœ¨æ¢æµ‹å™¨å¹³é¢ä¸Šè¿›è¡Œå¹³ç§»ï¼ˆShearingï¼‰ã€‚
                            <br><br>
                            ç»“æœæ˜¯ï¼Œæ¢æµ‹å™¨ä¸Šçš„æ¯ä¸€ä¸ªåƒç´ ä¸å†åªå¯¹åº”ä¸€ä¸ªç©ºé—´ç‚¹æˆ–ä¸€ä¸ªæ³¢é•¿ï¼Œè€Œæ˜¯å¤šä¸ªç©ºé—´ç‚¹å’Œå¤šä¸ªæ³¢é•¿çš„çº¿æ€§ç»„åˆã€‚è¿™ç§â€œæ··å â€çœ‹ä¼¼æŸå¤±äº†ä¿¡æ¯ï¼Œä½†åªè¦ä¿¡å·æœ¬èº«æ˜¯ç¨€ç–çš„ï¼ˆå¤§éƒ¨åˆ†è‡ªç„¶å›¾åƒéƒ½æ˜¯ç¨€ç–çš„ï¼‰ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡æ•°å­¦æ–¹æ³•è§£å‡ºåŸå§‹æ•°æ®ã€‚
                        </p>
                    </div>

                    <!-- Math Model -->
                    <div class="bg-slate-900 border border-slate-800 rounded-xl p-6">
                        <h4 class="text-xs font-bold text-violet-400 uppercase tracking-wider mb-3">æ•°å­¦æ¨¡å‹ (The Math)</h4>
                        <div class="font-mono text-center text-lg text-slate-200 mb-4">
                            $$ y = \Phi x + n $$
                        </div>
                        <ul class="text-xs text-slate-500 space-y-1 font-mono">
                            <li>$y \in \mathbb{R}^{HW}$: æ¢æµ‹å™¨æ•è·çš„ 2D æµ‹é‡å€¼ (Raw Data)ã€‚</li>
                            <li>$x \in \mathbb{R}^{HW\Lambda}$: æƒ³è¦æ¢å¤çš„ 3D æ•°æ®ç«‹æ–¹ä½“ã€‚</li>
                            <li>$\Phi$: ä¼ æ„ŸçŸ©é˜µ (Sensing Matrix)ï¼ŒåŒ…å«æ©æ¨¡ç¼–ç å’Œæ£±é•œè‰²æ•£ä¿¡æ¯ã€‚</li>
                            <li>æ³¨ï¼šè¿™æ˜¯ä¸€ä¸ªä¸¥é‡çš„æ¬ å®šé—®é¢˜ (Under-determined)ï¼Œå› ä¸º $y$ çš„åƒç´ æ•°è¿œå°äº $x$ã€‚</li>
                        </ul>
                    </div>

                    <!-- Pipeline -->
                    <div>
                        <h4 class="text-xs font-bold text-emerald-400 uppercase tracking-wider mb-2">æˆåƒæµæ°´çº¿</h4>
                        <div class="pipeline-container">
                            <div class="pipeline-track"></div>
                            <div class="pipeline-step type-phys">
                                <div class="step-bubble">ğŸ­</div><span class="text-xs mt-2 font-bold text-sky-400">ç¼–ç </span>
                            </div>
                            <div class="pipeline-step type-phys">
                                <div class="step-bubble">ğŸŒˆ</div><span class="text-xs mt-2 font-bold text-sky-400">è‰²æ•£</span>
                            </div>
                            <div class="pipeline-step type-raw">
                                <div class="step-bubble">ğŸ“¸</div><span class="text-xs mt-2 font-bold text-amber-400">æ··å é‡‡é›†</span>
                            </div>
                            <div class="pipeline-step type-math">
                                <div class="step-bubble">ğŸ§ </div><span class="text-xs mt-2 font-bold text-violet-400">ç¨€ç–é‡æ„</span>
                            </div>
                            <div class="pipeline-step type-done">
                                <div class="step-bubble">ğŸ“¦</div><span class="text-xs mt-2 font-bold text-emerald-400">3D æ•°æ®</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </template>

    <!-- TEMPLATE 02: CTIS -->
    <template id="tpl-ctis">
        <div class="fade-in">
            <div class="grid lg:grid-cols-12 gap-8">
                <div class="lg:col-span-5 space-y-6">
                    <h2 class="text-3xl font-bold text-violet-400">02. è®¡ç®—å±‚æ (CTIS)</h2>
                    <p class="text-sm text-slate-400 italic">Computed Tomography Imaging Spectrometer</p>
                    
                    <div class="optic-stage">
                        <div class="ctis-grid">
                            <div class="ctis-spot"></div><div class="ctis-spot"></div><div class="ctis-spot"></div>
                            <div class="ctis-spot"></div><div class="ctis-spot ctis-center"></div><div class="ctis-spot"></div>
                            <div class="ctis-spot"></div><div class="ctis-spot"></div><div class="ctis-spot"></div>
                        </div>
                        <div class="absolute bottom-2 text-[10px] text-slate-500 font-mono">Grating -> 3x3 Projections</div>
                    </div>

                    <div class="bg-violet-900/10 border-l-4 border-violet-500 p-4 rounded-r">
                        <h3 class="text-violet-400 font-bold text-sm uppercase mb-1">ç§’æ‡‚ç±»æ¯”</h3>
                        <p class="text-slate-300 text-sm leading-relaxed">
                            å°±åƒèˆå…ä¸­å¤®çš„<strong>è¿ªæ–¯ç§‘ç¯çƒ</strong>ï¼ˆå…‰æ …ï¼‰ã€‚å…‰æ‰“åœ¨ä¸Šé¢ï¼Œåå°„å‡ºè®¸å¤šä¸åŒè§’åº¦çš„â€œå½±å­â€ã€‚é€šè¿‡åˆ†æè¿™äº›ä¸åŒè§’åº¦å½±å­çš„å½¢çŠ¶ï¼Œåæ¨å…‰æºçš„æ ·å­ï¼ˆå°±åƒåŒ»é™¢ CT æ‰«æèº«ä½“ä¸€æ ·ï¼‰ã€‚
                        </p>
                    </div>
                </div>

                <div class="lg:col-span-7 space-y-8">
                    <div class="space-y-4">
                        <h3 class="text-xl font-bold text-white">æŠ€æœ¯æ·±åº¦è§£æ</h3>
                        <p class="text-slate-300 leading-7 text-sm">
                            CTIS åˆ©ç”¨äºŒç»´è¡å°„å…‰æ …ï¼ˆ2D Gratingï¼‰ä½œä¸ºæ ¸å¿ƒåˆ†å…‰å…ƒä»¶ã€‚é€šè¿‡å…‰æ …åï¼Œç‰©ä½“ä¼šè¢«å¤åˆ¶æˆå¤šä¸ªçº§æ¬¡çš„è¡å°„åƒï¼ˆé€šå¸¸æ˜¯ 3x3 æˆ– 5x5 é˜µåˆ—ï¼‰ã€‚
                            <br><br>
                            å…³é”®ç‚¹åœ¨äºï¼šç”±äºå…‰çš„è¡å°„è§’åº¦ä¸æ³¢é•¿æœ‰å…³ï¼Œä¸åŒæ³¢é•¿çš„å…‰åœ¨é«˜çº§æ¬¡è¡å°„åƒä¸­ä¼šå‘ç”Ÿä¸åŒç¨‹åº¦çš„å¾„å‘å¹³ç§»ã€‚è¿™æ„å‘³ç€æ¯ä¸ªè¡å°„åƒéƒ½æ˜¯ç‰©ä½“çš„ä¸€ä¸ªâ€œæŠ•å½±â€ã€‚ç®—æ³•æ”¶é›†æ‰€æœ‰æŠ•å½±ï¼Œåˆ©ç”¨å±‚æåæ¼”ï¼ˆTomographyï¼‰æŠ€æœ¯é‡å»ºæ•°æ®ç«‹æ–¹ä½“ã€‚
                        </p>
                    </div>

                    <div class="bg-slate-900 border border-slate-800 rounded-xl p-6">
                        <h4 class="text-xs font-bold text-violet-400 uppercase tracking-wider mb-3">æ•°å­¦æ¨¡å‹</h4>
                        <div class="font-mono text-center text-lg text-slate-200 mb-4">
                            $$ g = \mathcal{H} f $$
                        </div>
                        <ul class="text-xs text-slate-500 space-y-1 font-mono">
                            <li>$g$: æ¢æµ‹å™¨å›¾åƒï¼ŒåŒ…å«å¤šä¸ªè¡å°„çº§æ¬¡çš„å­å›¾åƒã€‚</li>
                            <li>$f$: (x, y, $\lambda$) ç›®æ ‡ç‰©ä½“ã€‚</li>
                            <li>$\mathcal{H}$: ç³»ç»ŸæŠ•å½±ç®—å­ï¼Œæè¿°å…‰æ …å¦‚ä½•å°†ç‰©ä½“æŠ•å½±åˆ°ä¸åŒä½ç½®ã€‚</li>
                            <li>ä¸»è¦ç—›ç‚¹ï¼š0 çº§å…‰ï¼ˆä¸­å¿ƒç‚¹ï¼‰é€šå¸¸å¤ªå¼ºï¼Œå®¹æ˜“è¿‡æ›ã€‚</li>
                        </ul>
                    </div>

                    <div>
                        <h4 class="text-xs font-bold text-emerald-400 uppercase tracking-wider mb-2">æˆåƒæµæ°´çº¿</h4>
                        <div class="pipeline-container">
                            <div class="pipeline-track"></div>
                            <div class="pipeline-step type-phys">
                                <div class="step-bubble">ğŸ”¦</div><span class="text-xs mt-2 font-bold text-sky-400">å‡†ç›´</span>
                            </div>
                            <div class="pipeline-step type-phys">
                                <div class="step-bubble">âœ´ï¸</div><span class="text-xs mt-2 font-bold text-sky-400">å…‰æ …è¡å°„</span>
                            </div>
                            <div class="pipeline-step type-raw">
                                <div class="step-bubble">ğŸ±</div><span class="text-xs mt-2 font-bold text-amber-400">æŠ•å½±é˜µåˆ—</span>
                            </div>
                            <div class="pipeline-step type-math">
                                <div class="step-bubble">ğŸ¥</div><span class="text-xs mt-2 font-bold text-violet-400">å±‚æåæ¼”</span>
                            </div>
                            <div class="pipeline-step type-done">
                                <div class="step-bubble">ğŸ“¦</div><span class="text-xs mt-2 font-bold text-emerald-400">3D æ•°æ®</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </template>

    <!-- TEMPLATE 03: IFS -->
    <template id="tpl-ifs">
        <div class="fade-in">
            <div class="grid lg:grid-cols-12 gap-8">
                <div class="lg:col-span-5 space-y-6">
                    <h2 class="text-3xl font-bold text-pink-400">03. å›¾åƒåˆ‡ç‰‡ (IFS)</h2>
                    <p class="text-sm text-slate-400 italic">Integral Field Spectroscopy</p>
                    
                    <div class="optic-stage">
                        <div class="ifs-slicer-group">
                            <div class="ifs-bar" style="transform: translateX(-20px)"></div>
                            <div class="ifs-bar" style="transform: translateX(-10px)"></div>
                            <div class="ifs-bar" style="transform: translateX(10px)"></div>
                            <div class="ifs-bar" style="transform: translateX(20px)"></div>
                        </div>
                        <div class="absolute bottom-2 text-[10px] text-slate-500 font-mono">Mirror Slicer (Physical Remapping)</div>
                    </div>

                    <div class="bg-pink-900/10 border-l-4 border-pink-500 p-4 rounded-r">
                        <h3 class="text-pink-400 font-bold text-sm uppercase mb-1">ç§’æ‡‚ç±»æ¯”</h3>
                        <p class="text-slate-300 text-sm leading-relaxed">
                            å°±åƒä¸€å°ç²¾å¯†çš„<strong>ç¢çº¸æœº</strong>ã€‚æŠŠä¸€å¼ äºŒç»´çš„ç…§ç‰‡ï¼ˆåœºæ™¯ï¼‰åˆ‡æˆä¸€æ¡æ¡ç»†ä¸ï¼Œç„¶åæŠŠè¿™äº›ç»†ä¸é¦–å°¾ç›¸è¿æ’æˆä¸€é•¿é˜Ÿï¼Œé€è¿›åˆ†æä»ªã€‚å› ä¸ºæ˜¯ç‰©ç†åˆ‡åˆ†ï¼Œæ²¡æœ‰ä»»ä½•ä¿¡æ¯é‡å ï¼Œæµ‹å¾—æœ€å‡†ã€‚
                        </p>
                    </div>
                </div>

                <div class="lg:col-span-7 space-y-8">
                    <div class="space-y-4">
                        <h3 class="text-xl font-bold text-white">æŠ€æœ¯æ·±åº¦è§£æ</h3>
                        <p class="text-slate-300 leading-7 text-sm">
                            IFS ä½¿ç”¨â€œå›¾åƒåˆ‡ç‰‡å™¨â€ï¼ˆImage Slicerï¼Œé€šå¸¸æ˜¯é˜¶æ¢¯çŠ¶çš„åå°„é•œå †å ï¼‰å°† 2D å›¾åƒåœ¨ç©ºé—´ä¸Šåˆ†å‰²æˆè‹¥å¹²ä¸ªå­åŒºåŸŸã€‚éšåï¼Œå…‰å­¦ç³»ç»Ÿå°†è¿™äº›å­åŒºåŸŸåœ¨å‚ç›´æ–¹å‘ä¸Šé‡æ–°æ’åˆ—æˆä¸€æ¡ç‹­é•¿çš„â€œç‹­ç¼å›¾åƒâ€ã€‚
                            <br><br>
                            è¿™æ¡ç‹­ç¼å›¾åƒé€šè¿‡è‰²æ•£æ£±é•œåï¼Œå…‰è°±åœ¨å‚ç›´æ–¹å‘å±•å¼€ã€‚å› ä¸ºç©ºé—´ä¸Šå·²ç»å®Œå…¨é”™å¼€ï¼Œæ‰€ä»¥å…‰è°±ä¹‹é—´ä¸ä¼šæ··å ã€‚è¿™æ˜¯å”¯ä¸€ä¸€ç§<strong>ä¸éœ€è¦æ±‚è§£é€†é—®é¢˜</strong>çš„æŠ€æœ¯ï¼Œæµ‹é‡ç²¾åº¦æé«˜ï¼Œä½†å…‰å­¦ç³»ç»Ÿä½“ç§¯å·¨å¤§ï¼ŒåŠ å·¥éš¾åº¦æ˜¯å¤©æ–‡çº§çš„ã€‚
                        </p>
                    </div>

                    <div class="bg-slate-900 border border-slate-800 rounded-xl p-6">
                        <h4 class="text-xs font-bold text-emerald-400 uppercase tracking-wider mb-3">ç‹¬ç‰¹ä¼˜åŠ¿</h4>
                        <div class="font-mono text-center text-lg text-emerald-400 mb-4">
                            Direct Mapping $\leftrightarrow$ Zero Computation
                        </div>
                        <p class="text-xs text-slate-500 text-center">
                            æ•°æ®å¤„ç†åªéœ€è¦ç®€å•çš„åæ ‡é‡æ˜ å°„ (Remapping)ï¼Œæ— éœ€å¤æ‚ç®—æ³•ã€‚
                        </p>
                    </div>

                    <div>
                        <h4 class="text-xs font-bold text-emerald-400 uppercase tracking-wider mb-2">æˆåƒæµæ°´çº¿</h4>
                        <div class="pipeline-container">
                            <div class="pipeline-track"></div>
                            <div class="pipeline-step type-phys">
                                <div class="step-bubble">ğŸ”ª</div><span class="text-xs mt-2 font-bold text-sky-400">åˆ‡ç‰‡</span>
                            </div>
                            <div class="pipeline-step type-phys">
                                <div class="step-bubble">ğŸ“</div><span class="text-xs mt-2 font-bold text-sky-400">é‡æ’</span>
                            </div>
                            <div class="pipeline-step type-phys">
                                <div class="step-bubble">ğŸŒˆ</div><span class="text-xs mt-2 font-bold text-sky-400">è‰²æ•£</span>
                            </div>
                            <div class="pipeline-step type-math">
                                <div class="step-bubble">ğŸ—ºï¸</div><span class="text-xs mt-2 font-bold text-violet-400">åæ ‡æ˜ å°„</span>
                            </div>
                            <div class="pipeline-step type-done">
                                <div class="step-bubble">ğŸ“¦</div><span class="text-xs mt-2 font-bold text-emerald-400">3D æ•°æ®</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </template>
<!-- TEMPLATE 04: IMS (Updated) -->
    <template id="tpl-ims">
        <div class="fade-in">
            <div class="grid lg:grid-cols-12 gap-8">
                <!-- Left: Visual & Core Concept -->
                <div class="lg:col-span-5 space-y-6">
                    <h2 class="text-3xl font-bold text-pink-500">04. å›¾åƒæ˜ å°„ (IMS)</h2>
                    <p class="text-sm text-slate-400 italic">Image Mapping Spectrometry</p>
                    
                    <!-- CSS Optical Schematic -->
                    <div class="optic-stage">
                        <div class="ims-container">
                            <div class="ims-array">
                                <!-- 4x3 Grid of "Mirrors" -->
                                <div class="ims-facet"><div class="ims-beam"></div></div><div class="ims-facet"></div><div class="ims-facet"></div><div class="ims-facet"></div>
                                <div class="ims-facet"></div><div class="ims-facet"><div class="ims-beam" style="animation-delay:0.5s"></div></div><div class="ims-facet"></div><div class="ims-facet"></div>
                                <div class="ims-facet"></div><div class="ims-facet"></div><div class="ims-facet"><div class="ims-beam" style="animation-delay:1s"></div></div><div class="ims-facet"></div>
                            </div>
                        </div>
                        <div class="absolute bottom-2 text-[10px] text-slate-500 font-mono">Facet Mirrors (Image Mapper)</div>
                    </div>

                    <div class="bg-pink-900/10 border-l-4 border-pink-500 p-4 rounded-r">
                        <h3 class="text-pink-400 font-bold text-sm uppercase mb-1">ç§’æ‡‚ç±»æ¯”</h3>
                        <p class="text-slate-300 text-sm leading-relaxed">
                            å°±åƒä¸€ä¸ªè¶…çº§å¤æ‚çš„<strong>é«˜é€Ÿå…¬è·¯ç«‹äº¤æ¡¥ç³»ç»Ÿ</strong>ã€‚å®ƒæŠŠåŸæœ¬æ‹¥æŒ¤åœ¨ä¸€èµ·çš„è½¦æµï¼ˆåƒç´ ï¼‰ï¼Œé€šè¿‡ä¸åŒçš„åŒé“ï¼ˆå¾®åå°„é•œï¼‰å¼•å¯¼åˆ°å¹¿åœºä¸ŠåŸæœ¬ç©ºé—²çš„åŒºåŸŸã€‚è¿™æ ·æ¯è¾†è½¦éƒ½æœ‰è¶³å¤Ÿçš„ç©ºé—´å±•å¼€ï¼ˆè‰²æ•£ï¼‰ï¼Œäº’ä¸å¹²æ‰°ã€‚
                        </p>
                    </div>
                </div>

                <!-- Right: Detailed Text & Math -->
                <div class="lg:col-span-7 space-y-8">
                    <!-- Text Description -->
                    <div class="space-y-4">
                        <h3 class="text-xl font-bold text-white">æŠ€æœ¯æ·±åº¦è§£æ</h3>
                        <p class="text-slate-300 leading-7 text-sm">
                            IMS æ˜¯ IFS çš„è¿›é˜¶å½¢æ€ï¼Œæ—¨åœ¨è§£å†³ IFS ä½“ç§¯åºå¤§å’Œè§†åœºå—é™çš„é—®é¢˜ã€‚æ ¸å¿ƒå…ƒä»¶æ˜¯<strong>å›¾åƒæ˜ å°„å™¨ (Image Mapper)</strong>â€”â€”ä¸€ä¸ªç”±æ•°ç™¾ä¸ªå…·æœ‰ä¸åŒå€¾è§’å¾®åå°„é•œç»„æˆçš„é˜µåˆ—ã€‚
                            <br><br>
                            è¿™äº›å¾®åå°„é•œå°†å›¾åƒä¸­çš„æ¯ä¸ªåƒç´ ï¼ˆæˆ–å­åŒºåŸŸï¼‰åå°„åˆ°æ¢æµ‹å™¨é˜µåˆ—ä¸Šçš„ä¸åŒç©ºç™½ä½ç½®ã€‚è¿™ç§ç‰©ç†ä¸Šçš„â€œé‡æ’â€ä¸ºå…‰è°±è‰²æ•£ç•™å‡ºäº†ç©ºé—´ï¼Œä½¿å¾—ä¸åŒåƒç´ çš„å…‰è°±ä¸ä¼šé‡å ã€‚IMS æ˜¯å”¯ä¸€èƒ½åŒæ—¶å®ç°<strong>100% å…‰é€šé‡</strong>å’Œ<strong>å¿«ç…§å¼ç›´æ¥æµ‹é‡</strong>çš„æŠ€æœ¯ã€‚
                        </p>
                    </div>

                    <!-- Math Model -->
                    <div class="bg-slate-900 border border-slate-800 rounded-xl p-6">
                        <h4 class="text-xs font-bold text-pink-400 uppercase tracking-wider mb-3">æ•°å­¦ä¼˜åŠ¿</h4>
                        <div class="font-mono text-center text-lg text-slate-200 mb-4">
                            $$ (x, y, \lambda) \xrightarrow{\text{Mapper}} (u, v) $$
                        </div>
                        <p class="text-xs text-slate-500 text-center">
                            è¿™æ˜¯ä¸€ä¸ªåŒå°„ï¼ˆBijectiveï¼‰çš„ä¸€ä¸€æ˜ å°„å…³ç³»ã€‚<br>
                            <span class="text-emerald-400">æ— éœ€å¤æ‚çš„é‡æ„ç®—æ³•</span>ï¼Œåªéœ€ç®€å•çš„æŸ¥æ‰¾è¡¨ï¼ˆLUTï¼‰å³å¯è¿˜åŸæ•°æ®ã€‚
                        </p>
                    </div>

                    <!-- Pipeline -->
                    <div>
                        <h4 class="text-xs font-bold text-emerald-400 uppercase tracking-wider mb-2">æˆåƒæµæ°´çº¿</h4>
                        <div class="pipeline-container">
                            <div class="pipeline-track"></div>
                            <div class="pipeline-step type-phys">
                                <div class="step-bubble">ğŸª</div><span class="text-xs mt-2 font-bold text-sky-400">å¾®é•œé˜µåˆ—</span>
                            </div>
                            <div class="pipeline-step type-phys">
                                <div class="step-bubble">ğŸ”€</div><span class="text-xs mt-2 font-bold text-sky-400">ç©ºé—´é‡æ’</span>
                            </div>
                            <div class="pipeline-step type-phys">
                                <div class="step-bubble">ğŸŒˆ</div><span class="text-xs mt-2 font-bold text-sky-400">æ£±é•œè‰²æ•£</span>
                            </div>
                            <div class="pipeline-step type-math">
                                <div class="step-bubble">ğŸ—ºï¸</div><span class="text-xs mt-2 font-bold text-violet-400">é€†æ˜ å°„</span>
                            </div>
                            <div class="pipeline-step type-done">
                                <div class="step-bubble">ğŸ“¦</div><span class="text-xs mt-2 font-bold text-emerald-400">3D æ•°æ®</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </template>
    <!-- TEMPLATE 05: MSFA -->
    <template id="tpl-msfa">
        <div class="fade-in">
            <div class="grid lg:grid-cols-12 gap-8">
                <div class="lg:col-span-5 space-y-6">
                    <h2 class="text-3xl font-bold text-amber-400">05. æ»¤å…‰ç‰‡é˜µåˆ— (MSFA)</h2>
                    <p class="text-sm text-slate-400 italic">Multispectral Filter Array</p>
                    
                    <div class="optic-stage">
                        <div class="msfa-matrix">
                            <div class="msfa-dot bg-red-500"></div><div class="msfa-dot bg-green-500"></div><div class="msfa-dot bg-blue-500"></div><div class="msfa-dot bg-yellow-500"></div>
                            <div class="msfa-dot bg-green-500"></div><div class="msfa-dot bg-red-500"></div><div class="msfa-dot bg-yellow-500"></div><div class="msfa-dot bg-blue-500"></div>
                            <div class="msfa-dot bg-blue-500"></div><div class="msfa-dot bg-yellow-500"></div><div class="msfa-dot bg-red-500"></div><div class="msfa-dot bg-green-500"></div>
                            <div class="msfa-dot bg-yellow-500"></div><div class="msfa-dot bg-blue-500"></div><div class="msfa-dot bg-green-500"></div><div class="msfa-dot bg-red-500"></div>
                        </div>
                        <div class="absolute bottom-2 text-[10px] text-slate-500 font-mono">Pixel-level Mosaic Filters</div>
                    </div>

                    <div class="bg-amber-900/10 border-l-4 border-amber-500 p-4 rounded-r">
                        <h3 class="text-amber-400 font-bold text-sm uppercase mb-1">ç§’æ‡‚ç±»æ¯”</h3>
                        <p class="text-slate-300 text-sm leading-relaxed">
                            å°±åƒæ•™å ‚çš„<strong>å½©è‰²é©¬èµ›å…‹ç»ç’ƒçª—</strong>ã€‚æ¯ä¸€å°å—ç»ç’ƒï¼ˆåƒç´ ï¼‰åªèƒ½é€è¿‡ä¸€ç§é¢œè‰²çš„å…‰ã€‚æƒ³è¦çŸ¥é“å®Œæ•´çš„ç”»é¢ï¼Œéœ€è¦é ç®—æ³•â€œè„‘è¡¥â€ï¼ˆæ’å€¼ï¼‰å‡ºæ¯ä¸ªç‚¹ç¼ºå¤±çš„é¢œè‰²ã€‚
                        </p>
                    </div>
                </div>

                <div class="lg:col-span-7 space-y-8">
                    <div class="space-y-4">
                        <h3 class="text-xl font-bold text-white">æŠ€æœ¯æ·±åº¦è§£æ</h3>
                        <p class="text-slate-300 leading-7 text-sm">
                            è¿™æ˜¯ç›®å‰æœ€æ¥è¿‘å•†ä¸šåŒ–é‡äº§çš„æŠ€æœ¯ã€‚å®ƒæ¨¡ä»¿äº†æ™®é€šå½©è‰²ç›¸æœºçš„ Bayer é˜µåˆ—ï¼Œä½†åœ¨åƒç´ çº§é›†æˆäº†æ•°åç§ä¸åŒæ³¢æ®µçš„çª„å¸¦æ»¤å…‰ç‰‡ï¼ˆé€šå¸¸æ˜¯ 4x4 æˆ– 5x5 çš„å¾ªç¯å•å…ƒï¼‰ã€‚
                            <br><br>
                            Raw æ•°æ®æ˜¯ä¸€ä¸ªç¨€ç–çŸ©é˜µï¼šæ¯ä¸ªåƒç´ ç‚¹åªæœ‰ä¸€ä¸ªæ³¢æ®µçš„æ•°å€¼ã€‚æ ¸å¿ƒæŠ€æœ¯åœ¨äº<strong>å»é©¬èµ›å…‹ç®—æ³• (Demosaicking)</strong>ï¼Œåˆ©ç”¨å›¾åƒç©ºé—´ä¸Šçš„å¹³æ»‘æ€§ï¼Œæ¨æ–­å‡ºæ¯ä¸ªåƒç´ ç‚¹ä¸Šç¼ºå¤±çš„å…¶ä»–æ³¢æ®µæ•°å€¼ã€‚è™½ç„¶ç®€å•ä¾¿æºï¼Œä½†å­˜åœ¨ä¸¥é‡çš„å…‰è°±ä¸²æ‰°å’Œå…‰èƒ½é‡æŸå¤±ï¼ˆå› ä¸ºæ¯ä¸ªåƒç´ éƒ½æŒ¡æ‰äº†ç»å¤§éƒ¨åˆ†å…‰ï¼‰ã€‚
                        </p>
                    </div>

                    <div class="bg-slate-900 border border-slate-800 rounded-xl p-6">
                        <h4 class="text-xs font-bold text-violet-400 uppercase tracking-wider mb-3">å…³é”®æƒè¡¡ (The Trade-off)</h4>
                        <div class="font-mono text-center text-lg text-slate-200 mb-2">
                            Spatial Res / Bands = 1
                        </div>
                        <p class="text-xs text-slate-500 text-center">
                            ç©ºé—´åˆ†è¾¨ç‡ä¸å…‰è°±æ³¢æ®µæ•°æˆåæ¯”ã€‚<br>æƒ³çœ‹ 16 ç§é¢œè‰²ï¼Ÿåˆ†è¾¨ç‡å°±å¾—é™¤ä»¥ 16ã€‚
                        </p>
                    </div>

                    <div>
                        <h4 class="text-xs font-bold text-emerald-400 uppercase tracking-wider mb-2">æˆåƒæµæ°´çº¿</h4>
                        <div class="pipeline-container">
                            <div class="pipeline-track"></div>
                            <div class="pipeline-step type-phys">
                                <div class="step-bubble">ğŸ‘ï¸</div><span class="text-xs mt-2 font-bold text-sky-400">å¾®é€é•œ</span>
                            </div>
                            <div class="pipeline-step type-phys">
                                <div class="step-bubble">ğŸ</div><span class="text-xs mt-2 font-bold text-sky-400">æ»¤æ³¢</span>
                            </div>
                            <div class="pipeline-step type-raw">
                                <div class="step-bubble">ğŸ§©</div><span class="text-xs mt-2 font-bold text-amber-400">é©¬èµ›å…‹å›¾</span>
                            </div>
                            <div class="pipeline-step type-math">
                                <div class="step-bubble">ğŸ–Œï¸</div><span class="text-xs mt-2 font-bold text-violet-400">æ’å€¼ç®—æ³•</span>
                            </div>
                            <div class="pipeline-step type-done">
                                <div class="step-bubble">ğŸ“¦</div><span class="text-xs mt-2 font-bold text-emerald-400">3D æ•°æ®</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </template>

    <!-- TEMPLATE 06: Light Field -->
    <template id="tpl-lightfield">
        <div class="fade-in">
            <div class="grid lg:grid-cols-12 gap-8">
                <div class="lg:col-span-5 space-y-6">
                    <h2 class="text-3xl font-bold text-emerald-400">06. å…‰åœºå…‰è°± (Light Field)</h2>
                    <p class="text-sm text-slate-400 italic">Plenoptic Spectroscopy</p>
                    
                    <div class="optic-stage">
                        <div class="mla-array">
                            <div class="mla-lens"></div><div class="mla-lens"></div><div class="mla-lens"></div><div class="mla-lens"></div><div class="mla-lens"></div><div class="mla-lens"></div>
                            <div class="mla-lens"></div><div class="mla-lens"></div><div class="mla-lens"></div><div class="mla-lens"></div><div class="mla-lens"></div><div class="mla-lens"></div>
                            <div class="mla-lens"></div><div class="mla-lens"></div><div class="mla-lens"></div><div class="mla-lens"></div><div class="mla-lens"></div><div class="mla-lens"></div>
                        </div>
                        <div class="absolute bottom-2 text-[10px] text-slate-500 font-mono">Microlens Array (MLA)</div>
                    </div>

                    <div class="bg-emerald-900/10 border-l-4 border-emerald-500 p-4 rounded-r">
                        <h3 class="text-emerald-400 font-bold text-sm uppercase mb-1">ç§’æ‡‚ç±»æ¯”</h3>
                        <p class="text-slate-300 text-sm leading-relaxed">
                            <strong>æ˜†è™«çš„å¤çœ¼</strong>ã€‚æˆåƒä¸Šä¸‡ä¸ªå¾®å°çš„é€é•œæ’åˆ—åœ¨ä¸€èµ·ï¼Œæ¯ä¸ªå°é€é•œéƒ½è®°å½•äº†æ¥è‡ªä¸åŒæ–¹å‘çš„å…‰çº¿ã€‚å®ƒä¸ä»…èƒ½çœ‹é¢œè‰²ï¼Œè¿˜èƒ½çœ‹â€œæ–¹å‘â€ï¼Œå› æ­¤å¯ä»¥è®¡ç®—å‡ºæ·±åº¦ï¼Œå®ç°â€œå…ˆæ‹ç…§ï¼Œåå¯¹ç„¦â€ã€‚
                        </p>
                    </div>
                </div>

                <div class="lg:col-span-7 space-y-8">
                    <div class="space-y-4">
                        <h3 class="text-xl font-bold text-white">æŠ€æœ¯æ·±åº¦è§£æ</h3>
                        <p class="text-slate-300 leading-7 text-sm">
                            å…‰åœºå…‰è°±æˆåƒåœ¨ä¸»æˆåƒé¢å¼•å…¥äº†å¾®é€é•œé˜µåˆ— (MLA)ã€‚ä¸»é€é•œå°†ç‰©ä½“æˆåƒåœ¨ MLA ä¸Šï¼Œè€Œæ¯ä¸ªå¾®é€é•œåˆ™å°†å…¶å­”å¾„ä¸‹çš„å…‰æŸåˆ†æ•£åˆ°åæ–¹çš„ä¼ æ„Ÿå™¨åƒç´ ä¸Šã€‚
                            <br><br>
                            è¿™æ„å‘³ç€ï¼Œä¼ æ„Ÿå™¨ä¸Šçš„æ¯ä¸€ä¸ªâ€œå®åƒç´ â€ï¼ˆå¯¹åº”ä¸€ä¸ªå¾®é€é•œï¼‰å®é™…ä¸Šè®°å½•äº†è¯¥ç©ºé—´ç‚¹çš„ä¸åŒè§’åº¦ (u, v) çš„å…‰çº¿ã€‚ç»“åˆè‰²æ•£å…ƒä»¶ï¼Œç³»ç»Ÿå¯ä»¥åŒæ—¶è®°å½• 5D æ•°æ®ï¼š$(x, y)$ ç©ºé—´åæ ‡, $(u, v)$ è§’åº¦åæ ‡, ä»¥åŠ $\lambda$ æ³¢é•¿ã€‚è¿™æ˜¯ç›®å‰å”¯ä¸€èƒ½åŒæ—¶è·å¾—å…‰è°±å’Œæ·±åº¦å›¾ (Depth Map) çš„å•ç›¸æœºæŠ€æœ¯ã€‚
                        </p>
                    </div>

                    <div class="bg-slate-900 border border-slate-800 rounded-xl p-6">
                        <h4 class="text-xs font-bold text-violet-400 uppercase tracking-wider mb-3">æ•°æ®ç»´åº¦</h4>
                        <div class="font-mono text-center text-lg text-emerald-400 mb-4">
                            $$ \text{Plenoptic Function: } L(x, y, u, v, \lambda) $$
                        </div>
                        <p class="text-xs text-slate-500 text-center">
                            æ•°æ®é‡æå¤§ï¼ŒåŒ…å«ç©ºé—´ã€è§’åº¦ã€å…‰è°±ã€‚
                        </p>
                    </div>

                    <div>
                        <h4 class="text-xs font-bold text-emerald-400 uppercase tracking-wider mb-2">æˆåƒæµæ°´çº¿</h4>
                        <div class="pipeline-container">
                            <div class="pipeline-track"></div>
                            <div class="pipeline-step type-phys">
                                <div class="step-bubble">ğŸ</div><span class="text-xs mt-2 font-bold text-sky-400">MLAé˜µåˆ—</span>
                            </div>
                            <div class="pipeline-step type-phys">
                                <div class="step-bubble">â†—ï¸</div><span class="text-xs mt-2 font-bold text-sky-400">æ–¹å‘æ‹†åˆ†</span>
                            </div>
                            <div class="pipeline-step type-raw">
                                <div class="step-bubble">ğŸ’¿</div><span class="text-xs mt-2 font-bold text-amber-400">å®åƒç´ å›¾</span>
                            </div>
                            <div class="pipeline-step type-math">
                                <div class="step-bubble">ğŸ”</div><span class="text-xs mt-2 font-bold text-violet-400">æ•°å­—é‡èšç„¦</span>
                            </div>
                            <div class="pipeline-step type-done">
                                <div class="step-bubble">ğŸ“¦</div><span class="text-xs mt-2 font-bold text-emerald-400">5D æ•°æ®</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </template>

    <!-- TEMPLATE 07: Multi-Cam -->
    <template id="tpl-multicam">
        <div class="fade-in">
            <div class="grid lg:grid-cols-12 gap-8">
                <div class="lg:col-span-5 space-y-6">
                    <h2 class="text-3xl font-bold text-indigo-400">07. å¤šå­”å¾„/å¤šç›¸æœº (Array)</h2>
                    <p class="text-sm text-slate-400 italic">Multi-Aperture / Camera Array</p>
                    
                    <div class="optic-stage">
                        <div class="cam-array">
                            <div class="cam-unit"><div class="cam-pupil bg-red-500"></div></div>
                            <div class="cam-unit"><div class="cam-pupil bg-green-500"></div></div>
                            <div class="cam-unit"><div class="cam-pupil bg-blue-500"></div></div>
                        </div>
                        <div class="absolute bottom-2 text-[10px] text-slate-500 font-mono">Multi-Camera System</div>
                    </div>

                    <div class="bg-indigo-900/10 border-l-4 border-indigo-500 p-4 rounded-r">
                        <h3 class="text-indigo-400 font-bold text-sm uppercase mb-1">ç§’æ‡‚ç±»æ¯”</h3>
                        <p class="text-slate-300 text-sm leading-relaxed">
                            <strong>ç›‘æ§å®¤çš„ç”µè§†å¢™</strong>ã€‚å¥½å‡ ä¸ªç›¸æœºå¹¶æ’æ¶è®¾ï¼Œå¯¹ç€åŒä¸€ä¸ªä¸œè¥¿æ‹ã€‚ä½†æ˜¯ 1 å·æœºæˆ´çº¢å¢¨é•œï¼Œ2 å·æœºæˆ´ç»¿å¢¨é•œï¼Œ3 å·æœºæˆ´è“å¢¨é•œ... æœ€åæŠŠç”»é¢å èµ·æ¥ã€‚
                        </p>
                    </div>
                </div>

                <div class="lg:col-span-7 space-y-8">
                    <div class="space-y-4">
                        <h3 class="text-xl font-bold text-white">æŠ€æœ¯æ·±åº¦è§£æ</h3>
                        <p class="text-slate-300 leading-7 text-sm">
                            è¿™æ˜¯æœ€ç›´è§‚çš„æ–¹æ¡ˆï¼šé€šè¿‡å †å å¤šä¸ªç›¸æœºï¼ˆæˆ–è€…åœ¨ä¸€ä¸ªä¼ æ„Ÿå™¨ä¸Šåˆ†å‰²å‡ºå¤šä¸ªå­åŒºåŸŸï¼‰ï¼Œæ¯ä¸ªå­ç³»ç»Ÿå‰æ”¾ç½®ä¸åŒçš„å¸¦é€šæ»¤å…‰ç‰‡ï¼Œä¸€æ¬¡æ›å…‰åŒæ—¶è·å–å¤šå¼ ä¸åŒæ³¢æ®µçš„å­å›¾åƒã€‚
                            <br><br>
                            <strong>æ ¸å¿ƒç—›ç‚¹ï¼šè§†å·® (Parallax)</strong>ã€‚å› ä¸ºå„ä¸ªç›¸æœºåœ¨ç‰©ç†ç©ºé—´ä¸Šå¿…é¡»æœ‰é—´è·ï¼ˆä¸å¯èƒ½é‡åˆï¼‰ï¼Œæ‰€ä»¥å®ƒä»¬çœ‹ç‰©ä½“çš„è§’åº¦æœ‰å¾®å°å·®å¼‚ï¼ˆå°±åƒå·¦çœ¼å’Œå³çœ¼ï¼‰ã€‚å¦‚æœä¸å¤„ç†ï¼Œåˆæˆçš„å›¾åƒè¾¹ç¼˜ä¼šæœ‰é‡å½±ã€‚å¿…é¡»ä½¿ç”¨å¤æ‚çš„<strong>å›¾åƒé…å‡†ç®—æ³• (Image Registration)</strong>ï¼Œå°†æ‰€æœ‰å­å›¾åƒå¼ºè¡Œæ‹‰ä¼¸ã€å¯¹é½åˆ°åŒä¸€ä¸ªåæ ‡ç³»ã€‚
                        </p>
                    </div>

                    <div class="bg-slate-900 border border-slate-800 rounded-xl p-6">
                        <h4 class="text-xs font-bold text-violet-400 uppercase tracking-wider mb-3">å…³é”®æŒ‘æˆ˜</h4>
                        <p class="text-sm text-slate-400">
                            è¿‘è·ç¦»ç‰©ä½“è§†å·®å¤§ï¼Œè¿œè·ç¦»ç‰©ä½“è§†å·®å°ã€‚<br>é…å‡†ç®—æ³•å¿…é¡»å…·å¤‡æ·±åº¦æ„ŸçŸ¥èƒ½åŠ›ã€‚
                        </p>
                    </div>

                    <div>
                        <h4 class="text-xs font-bold text-emerald-400 uppercase tracking-wider mb-2">æˆåƒæµæ°´çº¿</h4>
                        <div class="pipeline-container">
                            <div class="pipeline-track"></div>
                            <div class="pipeline-step type-phys">
                                <div class="step-bubble">ğŸ¥</div><span class="text-xs mt-2 font-bold text-sky-400">å¤šç›¸æœº</span>
                            </div>
                            <div class="pipeline-step type-phys">
                                <div class="step-bubble">ğŸ›‘</div><span class="text-xs mt-2 font-bold text-sky-400">çª„å¸¦æ»¤æ³¢</span>
                            </div>
                            <div class="pipeline-step type-raw">
                                <div class="step-bubble">ğŸï¸</div><span class="text-xs mt-2 font-bold text-amber-400">å­å›¾é˜µåˆ—</span>
                            </div>
                            <div class="pipeline-step type-math">
                                <div class="step-bubble">ğŸ“Œ</div><span class="text-xs mt-2 font-bold text-violet-400">å›¾åƒé…å‡†</span>
                            </div>
                            <div class="pipeline-step type-done">
                                <div class="step-bubble">ğŸ“¦</div><span class="text-xs mt-2 font-bold text-emerald-400">3D æ•°æ®</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </template>

    <!-- Comparison -->
    <template id="tpl-compare">
        <div class="fade-in">
            <h2 class="text-3xl font-bold text-white mb-6">å…¨æ™¯æ€»è§ˆ</h2>
            <div class="overflow-x-auto border border-slate-800 rounded-xl bg-slate-900">
                <table class="w-full text-left text-sm text-slate-400">
                    <thead class="bg-slate-950 text-slate-200 text-xs">
                        <tr>
                            <th class="p-4">æ¶æ„</th>
                            <th class="p-4">æ ¸å¿ƒåŸç†</th>
                            <th class="p-4">å…‰é€šé‡</th>
                            <th class="p-4">è®¡ç®—é‡</th>
                            <th class="p-4">åº”ç”¨åœºæ™¯</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-slate-800">
                        <tr><td class="p-4 text-sky-400 font-bold">CASSI</td><td class="p-4">ç¼–ç +è‰²æ•£</td><td class="p-4 text-green-400">é«˜ (50%)</td><td class="p-4 text-red-400">æé«˜ (åæ¼”)</td><td class="p-4">è§†é¢‘ã€å‹ç¼©æ„ŸçŸ¥ç ”ç©¶</td></tr>
                        <tr><td class="p-4 text-violet-400 font-bold">CTIS</td><td class="p-4">å…‰æ …è¡å°„</td><td class="p-4 text-green-400">é«˜</td><td class="p-4 text-red-400">é«˜ (å±‚æ)</td><td class="p-4">ç¬æ€ç‰©ç†ã€ç‡ƒçƒ§</td></tr>
                        <tr><td class="p-4 text-pink-400 font-bold">IFS</td><td class="p-4">é•œé¢åˆ‡ç‰‡</td><td class="p-4 text-green-400">æé«˜ (100%)</td><td class="p-4 text-green-400">æ—  (æ˜ å°„)</td><td class="p-4">å¤©æ–‡ã€é«˜ç«¯æ˜¾å¾®</td></tr>
                        <tr class="bg-slate-800/50"><td class="p-4 text-white font-bold">IMS</td><td class="p-4">åƒç´ æ˜ å°„</td><td class="p-4 text-green-400">æé«˜ (100%)</td><td class="p-4 text-green-400">æ—  (æ˜ å°„)</td><td class="p-4">ç”Ÿç‰©è§å…‰ (æéš¾åˆ¶é€ )</td></tr>
                        <tr><td class="p-4 text-amber-400 font-bold">MSFA</td><td class="p-4">å¾®æ»¤å…‰ç‰‡</td><td class="p-4 text-red-400">æä½ (1/N)</td><td class="p-4 text-yellow-400">ä½ (æ’å€¼)</td><td class="p-4">æ— äººæœºã€ä¾¿æº</td></tr>
                        <tr><td class="p-4 text-emerald-400 font-bold">LightField</td><td class="p-4">å¾®é€é•œé˜µåˆ—</td><td class="p-4 text-green-400">é«˜</td><td class="p-4 text-yellow-400">ä¸­ (é‡èšç„¦)</td><td class="p-4">3D ç”Ÿç‰©æˆåƒ</td></tr>
                        <tr><td class="p-4 text-indigo-400 font-bold">MultiCam</td><td class="p-4">ç›¸æœºå †å </td><td class="p-4 text-green-400">é«˜</td><td class="p-4 text-yellow-400">ä¸­ (é…å‡†)</td><td class="p-4">å®‰é˜²ã€é¥æ„Ÿ</td></tr>
                    </tbody>
                </table>
            </div>
        </div>
    </template>

    <!-- JavaScript Logic -->
    <script>
        function loadTech(id) {
            // 1. Update Navigation State
            document.querySelectorAll('.nav-card').forEach(el => {
                el.classList.remove('active');
                // el.classList.remove('border-sky-500'); // Clean up old styles
            });
            const activeBtn = document.getElementById('nav-' + id);
            if(activeBtn) activeBtn.classList.add('active');

            // 2. Inject Content
            const template = document.getElementById('tpl-' + id);
            const stage = document.getElementById('main-stage');
            
            if (template && stage) {
                stage.innerHTML = template.innerHTML;
                
                // 3. Re-render MathJax
                if (window.MathJax && window.MathJax.typesetPromise) {
                    MathJax.typesetPromise([stage]).catch((err) => console.log('MathJax Error:', err));
                }
            }
        }

        // Initialize with 01 CASSI
        window.addEventListener('DOMContentLoaded', () => {
            loadTech('cassi');
        });
    </script>
</body>
</html>